{% load static %}
<article class="group relative bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1">
  <!-- Gambar produk -->
  <div class="aspect-[4/3] relative overflow-hidden">
    {% if product.thumbnail %}
      <img src="{{ product.thumbnail }}" 
           alt="{{ product.name }}" 
           class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 group-hover:rotate-1">
    {% else %}
      <div class="w-full h-full bg-gray-200"></div>
    {% endif %}
  </div>

  <!-- Konten -->
  <div class="p-5">
    <!-- Nama produk -->
    <h3 class="text-lg font-bold bg-gradient-to-r from-blue-600 to-sky-400 bg-clip-text text-transparent mb-2 line-clamp-2 leading-tight">
      <a href="{% url 'main:product_detail' product.id %}" class="hover:underline">
        {{ product.name }}
      </a>
    </h3>

    <!-- Harga -->
    <p class="text-2xl font-bold text-blue-700 mb-4">
      Rp {{ product.price|floatformat:0 }}
    </p>

    <!-- Badge -->
    <div class="flex space-x-2 mb-4">
      {% if product.is_featured %}
        <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-red-500 to-red-600 text-white shadow-sm">
  Featured
</span>

      {% endif %}
      {% if product.stock == 0 %}
        <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-red-400 to-red-600 text-white shadow-sm">
          Out of stock
        </span>
      {% endif %}
    </div>

    <!-- Aksi -->
    <div class="pt-4 mt-4 border-t border-gray-100">
      {% if user.is_authenticated and product.user == user %}
        <div class="flex items-center justify-end space-x-3">
          <a href="{% url 'main:edit_product' product.id %}" 
             class="px-3 py-1.5 rounded-lg bg-gray-100 text-gray-600 text-sm font-medium hover:bg-blue-100 hover:text-blue-700 transition-colors">
             Edit
          </a>
          <a href="{% url 'main:delete_product' product.id %}" 
             class="px-3 py-1.5 rounded-lg bg-gray-100 text-gray-600 text-sm font-medium hover:bg-red-100 hover:text-red-700 transition-colors">
             Delete
          </a>
        </div>
      {% else %}
        <a href="{% url 'main:product_detail' product.id %}" 
           class="inline-block px-4 py-2 rounded-lg bg-blue-600 text-white font-medium text-sm hover:bg-blue-700 transition-colors shadow-sm hover:shadow-md">
           Lihat Detail â†’
        </a>
      {% endif %}
    </div>
  </div>
</article>
